language: python
python:
  - "3.3"
before_install:
  - "sudo add-apt-repository -y ppa:fkrull/deadsnakes"
  - "sudo apt-get -y update"
  - "sudo apt-get -qq install python3.3 python3.3-dev python3-sphinx"
  - "virtualenv -p /usr/bin/python3.3 ~/virtualenvs/3.3_debian"
  - "source ~/virtualenvs/3.3_debian/bin/activate"
install:
  - "pip install -r dev-requirements.txt"
script:
  - "pep8 --ignore E501 i3pystatus tests"
  - "PYTHONPATH=. py.test"        # run unit tests
  - "python setup.py -q install"  # test install
  - "sphinx-build -W docs html"   # test building docs
